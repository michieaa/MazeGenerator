<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maze</title>
  <link rel="stylesheet" href="MazeGenMain.css">
</head>
<body>
<div id="mazecanvas">
<canvas id="sig-canvas">Your browser doesn't support canvas.</canvas>
</div>
<button onclick="NewMaze(z)">NewMaze</button>
<script>
  var canvas = document.getElementById("sig-canvas"); //Specifies canvas to draw on
  var ctx = canvas.getContext("2d") //Sets ctx as a 2d 'plane' of the canvas
  var scale = 1;
  canvas.width = 500 * scale;
  canvas.height = 500 * scale;

  var z = 1; //Value for the currently selected maze

  function NewMaze(current){
    z = RandSelect(current);
    console.log(z)
    ctx.clearRect(0, 0, canvas.width, canvas.height); //This may not clear certain canvas objects
    drawhorslop(z); //Horizontal must be called first as it begins a new path.
    drawvertslop(z);
  }

  function RandSelect(){ //Random number within the range of z-indexes
    do {
      var randInt = Math.floor(Math.random() * 4);
      console.log(randInt);
    } while (randInt === z);
    console.log(randInt)
    return(randInt);
  }

  //Horizontal lines organised to be visually accurate when displayed in a table (z,y,x)
  // Includes outside boundary lines
  let horizontals = [[
    [1,1,0,1,1],
    [0,1,1,1,0],
    [1,0,1,0,1],
    [1,0,1,1,0],
    [0,1,1,1,1],
    [1,1,1,1,0]
  ],[
    [0,1,1,1,1],
    [1,1,0,1,0],
    [0,1,1,1,0],
    [1,1,0,1,1],
    [0,1,0,1,1],
    [1,1,1,1,0]
  ],[
    [1,1,0,1,1],
    [1,0,1,1,0],
    [0,1,0,1,1],
    [0,1,1,1,0],
    [0,0,1,0,1],
    [1,1,1,1,0]
  ],[
    [1,1,1,0,1],
    [0,1,1,0,0],
    [0,0,0,1,0],
    [0,0,1,0,0],
    [1,1,1,0,0],
    [1,1,1,1,1]
  ],[
    [0,1,1,1,1],
    [0,0,0,0,0],
    [0,0,0,0,0],
    [0,0,0,0,0],
    [0,0,0,0,0],
    [1,1,1,1,0]
  ]];

  //Vertical lines organised to be visually accurate when displayed in a table (z,y,x)
  // Includes outside boundary lines
  let verticals = [[
    [1,0,0,0,0,1],
    [1,0,1,0,0,1],
    [1,0,0,1,0,1],
    [1,0,1,0,0,1],
    [1,0,0,0,0,1]
  ],[
    [1,0,0,1,0,1],
    [1,0,0,0,0,1],
    [1,0,0,1,0,1],
    [1,0,0,0,0,1],
    [1,0,1,0,0,1]
  ],[
    [1,0,0,0,0,1],
    [1,0,1,0,0,1],
    [1,1,0,0,0,1],
    [1,1,0,0,1,1],
    [1,0,0,1,0,1]
  ],[
    [1,0,0,0,0,1],
    [1,1,1,0,1,1],
    [1,1,1,0,1,1],
    [1,0,0,1,1,1],
    [0,0,0,0,1,1]
  ],[
    [1,0,0,0,0,1],
    [1,0,0,0,0,1],
    [1,0,0,0,0,1],
    [1,0,0,0,0,1],
    [1,0,0,0,0,1]
  ]];
  console.table(horizontals);
  console.log(horizontals[1][1]);
  console.table(verticals);
  console.log(verticals[1][1]);

  function drawhorslop(z) { //Loops through the horizontal matrix to draw the horizontal lines
    ctx.beginPath(); //Begins new path: necessary for current clearing method.
    for(y in horizontals[z]){
      var x = 0
      while (x <= horizontals[z][y].length){
        if (horizontals[z][y][x] == 1){
          ctx.moveTo(x*100,y*100);
          ctx.lineTo(x*100+100,y*100);
          ctx.stroke();
        } else {
        }
        x = x + 1
      }
    }
  }

  function drawvertslop(z) { //Similar logic to drawhorslop, but for vertical lines.
    for(y in verticals[z]){
      var x = 0
      while (x <= verticals[z][y].length){
        if (verticals[z][y][x] == 1){
          ctx.moveTo(x*100,y*100);
          ctx.lineTo(x*100,y*100+100);
          ctx.stroke();
        } else {
        }
        x = x + 1
      }
    }
  }

</script>
</body>
</html>